<h2>设置</h2>
<div class="settings-container">
  <!-- 常规设置卡片 -->
  <div class="setting-card">
    <div class="card-header">
      <h3>常规设置</h3>
    </div>
    <div class="card-body">
      <div class="settings-option">
        <span>最小化到托盘</span>
        <p>点击×最小化到托盘</p>
        <div class="switch-container">
          <input type="checkbox" id="minimizeToTray" />
          <label for="minimizeToTray" class="switch-label"
            ><span class="switch-button"></span
          ></label>
        </div>
      </div>
      <div class="settings-option">
        <span>静默运行</span>
        <p>下次启动时不显示窗口</p>
        <div class="switch-container">
          <input type="checkbox" id="silentMode" />
          <label for="silentMode" class="switch-label"
            ><span class="switch-button"></span
          ></label>
        </div>
      </div>
      <div class="settings-option">
        <span>开机自启动</span>
        <p>建议这三个选项都打开</p>
        <div class="switch-container">
          <input type="checkbox" id="autoLaunch" />
          <label for="autoLaunch" class="switch-label"
            ><span class="switch-button"></span
          ></label>
        </div>
      </div>
      <div class="settings-option">
        <span>禁用硬件加速</span>
        <p>需要重启应用生效，如果出现渲染问题可以禁用硬件加速</p>
        <div class="switch-container">
          <input type="checkbox" id="hardwareAcceleration" />
          <label for="hardwareAcceleration" class="switch-label"
            ><span class="switch-button"></span
          ></label>
        </div>
      </div>
      <div class="settings-option">
        <span>开发者工具</span>
        <p>打开/关闭浏览器开发者工具，用于调试和开发</p>
        <button id="toggleDevTools">可使用 F12 打开</button>
      </div>
    </div>
  </div>
  <!-- 背景设置卡片 -->
  <div class="setting-card">
    <div class="card-header">
      <h3>背景设置</h3>
    </div>
    <div class="card-body">
      <div class="settings-option">
        <label for="background-path">背景图片路径</label>
        <input type="text" id="background-path" readonly required />
        <button type="button" id="browse-background">选择背景图片</button>
      </div>
      <div class="settings-option">
        <label for="backgroundOpacityInput">调整背景亮度:</label>
        <input
          type="range"
          id="backgroundOpacityInput"
          min="0"
          max="1"
          step="0.001"
        />
      </div>
      <div class="settings-option">
        <button id="restore-defaults">恢复默认背景配置</button>
      </div>
    </div>
  </div>

  <!-- 数据管理卡片 -->
  <div class="setting-card">
    <div class="card-header">
      <h3>数据管理</h3>
    </div>
    <div class="card-body">
      <div class="settings-option">
        <button id="checkErrors">检查与整理数据</button>
      </div>
      <div class="settings-option">
        <button id="openDataPath">打开数据文件夹</button>
      </div>
      <div class="settings-option">
        <label for="background-path">当前数据文件夹路径</label>
        <input type="text" id="dataFile-path" readonly required />
        <button type="button" id="browse-dataFile">更换数据路径</button>
        <p>配置后会自动重新启动</p>
        <button type="button" id="reset-dataFile">恢复默认路径</button>
      </div>
      <div class="settings-option">
        <button id="openDataSyncWindow">数据同步设置</button>
        <p>通过Gitee或Github自动同步您的数据。</p>
        <p>
          <a
            href="https://gitee.com/sunmmerneko/utils/blob/master/info/infoTips.md"
            target="_blank"
            class="guide-link"
            >查看相关教程</a
          >
        </p>
      </div>
      <div class="settings-option">
        <label for="custom-path">自定义抽卡规划数据源</label>
        <input
          type="text"
          id="custom-path"
          placeholder="请输入自定义路径,如：https://gitee.com/sunmmerneko/utils/raw/master/info/gacha/"
        />
        <button type="button" id="save-path">保存路径</button>
        <p>
          <a
            href="https://gitee.com/sunmmerneko/utils/blob/master/info/gacheInfo.md"
            target="_blank"
            >如果你发现抽卡规划页面的数据已经过时，可以尝试自己配置数据，或使用其他源</a
          >
        </p>
        <button type="button" id="reset-path">恢复默认源</button>
      </div>
      <div class="settings-option">
        <label>Hakushi 元数据管理</label>
        <div style="margin-top: 10px">
          <div
            id="dict-status"
            style="
              margin-bottom: 10px;
              padding: 10px;
              background: #f5f5f5;
              border-radius: 5px;
            "
          >
            <div>元数据状态加载中...</div>
          </div>
          <div style="display: flex; gap: 10px; flex-wrap: wrap">
            <button type="button" id="download-all-dicts">
              下载所有元数据
            </button>
            <button type="button" id="refresh-dict-status">刷新状态</button>
            <button type="button" id="update-item-names">更新物品名称</button>
          </div>
        </div>
        <p style="font-size: 0.9em; color: #666; margin-top: 8px">
          Hakushi 元数据用于在导入导出抽卡记录时进行物品ID与名称的转换。
          <strong
            >元数据会在每次启动时自动下载更新，并自动更新数据库中已有记录的物品名称。</strong
          >
          您也可以手动点击"更新物品名称"按钮来立即更新现有抽卡记录的物品名称。
          <a href="https://api.hakush.in/" target="_blank">了解更多</a>
        </p>
      </div>
      <!--            <div class="settings-option">-->
      <!--                <button id="exportPageButton">导出当前页面</button>-->
      <!--            </div>-->
    </div>
  </div>

  <!-- 项目地址卡片 -->
  <div class="setting-card">
    <div class="card-header">
      <h3>项目地址</h3>
    </div>
    <div class="card-body">
      <p>如果遇到了任何问题，也欢迎反馈</p>
      <div class="settings-option">
        <a href="https://github.com/Summer-Neko/NekoGame" target="_blank"
          >本项目完全免费，访问 GitHub 查看项目详情</a
        >
      </div>
    </div>
  </div>

  <!-- 更新卡片 -->
  <div class="setting-card">
    <div class="card-header">
      <h3>更新</h3>
    </div>
    <div class="card-body">
      <div class="settings-option">
        <button id="openUpdateLog">更新日志</button>
      </div>
      <div class="settings-option">
        <button id="checkUpdate">检查更新</button>
      </div>
      <div class="settings-option">
        <a
          href="https://pan.baidu.com/s/13IdCeOVPxHfxVpq2vO_8kw?pwd=4l1a"
          target="_blank"
          >或者前往网盘查看是否有更新</a
        >
      </div>
    </div>
  </div>
  <!-- 自定义样式卡片 -->
  <div class="setting-card">
    <div class="card-header">
      <h3>自定义样式</h3>
    </div>
    <div class="card-body">
      <div class="settings-option">
        <span>启用自定义CSS</span>
        <p>启用后将应用您的自定义CSS样式</p>
        <div class="switch-container">
          <input type="checkbox" id="enableCustomCSS" />
          <label for="enableCustomCSS" class="switch-label"
            ><span class="switch-button"></span
          ></label>
        </div>
      </div>
      <div class="settings-option">
        <label for="local-css-path">本地CSS文件路径</label>
        <input
          type="text"
          id="local-css-path"
          placeholder="选择本地CSS文件"
          readonly
        />
        <button type="button" id="browse-local-css">选择本地CSS文件</button>
        <p>选择本地CSS文件来自定义程序样式</p>
      </div>
      <div class="settings-option">
        <label for="remote-css-url">网络CSS文件URL</label>
        <input
          type="text"
          id="remote-css-url"
          placeholder="请输入CSS文件的完整URL，如：https://example.com/style.css"
        />
        <button type="button" id="save-remote-css">保存网络CSS</button>
        <p>输入CSS文件的URL地址来应用网络样式</p>
      </div>
      <div class="settings-option">
        <label>当前CSS状态</label>
        <div
          id="current-css-status"
          style="
            margin-top: 10px;
            padding: 10px;
            background: rgba(60, 60, 60, 0.8);
            border-radius: 5px;
            font-size: 0.9em;
            color: #e0e0e0;
            text-align: center;
            font-weight: bold;
          "
        >
          none
        </div>
        <div
          style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px"
        >
          <button type="button" id="refresh-css">刷新CSS</button>
          <button type="button" id="clear-css">清除所有自定义CSS</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 祈愿工具卡片 -->
  <div class="setting-card">
    <div class="card-header">
      <h3>祈愿工具</h3>
    </div>
    <div class="card-body">
      <div class="settings-option">
        <button id="openCommonItems">打开 commonItems.json 进行编辑</button>
        <p class="help-text">
          点击此按钮将在系统默认的文本编辑器中打开 commonItems.json 文件。<br />
          您可以根据需要修改常驻角色/武器数据，支持简体、繁体或其它语言设置。<br />
          修改后，将自动加载最新的设置。
        </p>
      </div>
      <div class="settings-option">
        <button id="getStarRailUrl">获取崩铁抽卡链接并复制到剪贴板</button>
      </div>
      <div class="settings-option">
        <button id="getGenshinWishLink">获取原神祈愿链接并复制到剪贴板</button>
      </div>
      <div class="settings-option">
        <button id="exportWuWa">导出鸣潮抽卡数据为Excel</button>
      </div>
    </div>
  </div>
</div>

<link rel="stylesheet" href="./css/settings.css" />
