<div class="library">
    <div class="game-list">
        <div class="game-list-header">
            <span id="game-count">0 个游戏</span>
            <div class="menu">
                <button class="menu-button">⋮</button>
                <div class="menu-dropdown" id="dropdown-menu">
                    <a href="#" id="add-game">录入游戏</a>
                </div>
            </div>
        </div>
        <ul id="games-list" class="games-list">
            <!-- 游戏列表项将在 timeData.js 中动态加载 -->
        </ul>
    </div>

    <div class="game-details">
        <!-- 游戏详情区域 -->
        <div class="tab-content">
            <p id="total-time"></p>
            <p id="last-played"></p>
            <p id="rank"></p>
            <div class="ellipsis-menu">
                <button class="menu-button">⋮</button>
                <div class="menu-dropdown">
                    <a href="#" id="edit-game">编辑游戏</a>
                    <a href="#" id="delete-game">删除游戏</a>
                </div>
            </div>
            <div class="game-details">
                <div class="chart-container">
                    <h3>游戏数据喵</h3>
                    <div id="daily-time-chart"></div>
                </div>
                <div class="chart-container">
                    <h3>时长趋势喵</h3>
                    <canvas id="trend-chart"></canvas>
                </div>
            </div>        
            <div class="game-achievements">
            </div>
        </div>
    </div>
    
</div>


<div id="add-game-modal" class="modal">
    <div class="modal-content">
        <!-- 固定的标题区域 -->
        <div class="modal-header">
            录入新游戏
        </div>
        
        <!-- 可滚动的内容区域 -->
        <form id="add-game-form">
            <div class="modal-body">
                <label>游戏图标</label>
                <div id="icon-preview" class="image-preview-square" style="background-image: url('../assets/icon.png');"></div>
                <input type="file" id="game-icon" accept="image/*" style="display: none;">
                
                <label for="game-name-input">游戏名字</label>
                <input type="text" id="game-name-input" required>

                <br>

                <label>游戏海报（竖版）</label>
                <div id="poster-vertical-preview" class="image-preview-vertical" style="background-image: url('../assets/poster_vertical.webp');"></div>
                <input type="file" id="game-poster-vertical" accept="image/*" style="display: none;">

                <label>游戏海报（横版）</label>
                <div id="poster-horizontal-preview" class="image-preview-horizontal" style="background-image: url('../assets/poster_horizontal.webp');"></div>
                <input type="file" id="game-poster-horizontal" accept="image/*" style="display: none;">

                <label for="game-path">游戏路径</label>
                <input type="text" id="game-path" readonly required>
                <button type="button" id="browse-path">选择路径</button>
            </div>

            <!-- 固定在底部的按钮 -->
            <div class="modal-footer">
                <button type="submit" class="submit-btn">录入游戏</button>
                <button type="button" id="close-modal" class="close-btn">关闭</button>
            </div>
        </form>
    </div>
</div>
<div id="edit-game-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">编辑游戏</div>
        <form id="edit-game-form">
            <div class="modal-body">
                <!-- 这里与录入窗口相似 -->
                <label>游戏图标</label>
                <div id="edit-icon-preview" class="image-preview-square"></div>
                <input type="file" id="edit-game-icon" accept="image/*" style="display: none;">

                <label for="edit-game-name-input">游戏名字</label>
                <input type="text" id="edit-game-name-input" required>

                <br>

                <label>游戏海报（竖版）</label>
                <div id="edit-poster-vertical-preview" class="image-preview-vertical"></div>
                <input type="file" id="edit-game-poster-vertical" accept="image/*" style="display: none;">

                <label>游戏海报（横版）</label>
                <div id="edit-poster-horizontal-preview" class="image-preview-horizontal"></div>
                <input type="file" id="edit-game-poster-horizontal" accept="image/*" style="display: none;">

                <label for="edit-game-path">游戏路径</label>
                <input type="text" id="edit-game-path" readonly required>
                <button type="button" id="edit-browse-path">选择路径</button>
            </div>
            <div class="modal-footer">
                <button type="submit" class="submit-btn">保存更改</button>
                <button type="button" id="close-edit-modal" class="close-btn">关闭</button>
            </div>
        </form>
    </div>
</div>
<div id="success-message" class="success-message" style="display: none;">
    游戏录入成功！
</div>


<link rel="stylesheet" href="./css/library.css">